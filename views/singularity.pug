extends layout


block head
  link(rel="stylesheet", href="/stylesheets/style.css")
  link(rel="stylesheet", href="/stylesheets/singularity.css")
  script(type='importmap').
    {
      "imports": {
        "three": "/javascripts/three.module.js"
      }
    }

block content
  .wrap
    .hud
      .card
        p.title Controls
        .bar
        .controls
          .row
            label(for="rot") Rotation
            input#rot(type="range" min="0" max="2.5" step="0.01" value="0.7")
            span.val#rotv 0.70
          .row
            label(for="dist") Distortion
            input#dist(type="range" min="0" max="3.0" step="0.01" value="1.2")
            span.val#distv 1.20
          .row
            label(for="react") Reactivity
            input#react(type="range" min="0" max="3.0" step="0.01" value="1.0")
            span.val#reactv 1.00
          .row
            label(for="res") Geometry
            input#res(type="range" min="0" max="3" step="1" value="2")
            span.val#resv 2
          .row
            label(for="bloom") Bloom
            input#bloom(type="range" min="0" max="2.5" step="0.01" value="1.3")
            span.val#bloomv 1.30
          .row
            label(for="file") Audio
            input#file(type="file" accept="audio/*")
            button.btn#play(type="button") ▶︎ Play
          .row
            label Gyro
            button.btn#gyro(type="button" data-on="false") Off
            span.val#stat Idle
      .card
        p.title Theme
        .bar
        .controls
          .row
            label Palette
            select#palette
              option(value="synth" selected) Synthwave
              option(value="noir") Noir Violet
              option(value="burn") Burning City
            span.val &nbsp;
    canvas#stage
    .footer ⏵ Now Playing: DJ Stomp - Singularity

  audio#player(preload="metadata" crossorigin="anonymous" src="/audio/singularity_320k.mp3")
  script(type="module" src="/javascripts/soundscape3.js")
